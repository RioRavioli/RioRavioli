[["version", 4], ["markdown", "<!-- contributed by Atul Varma [atul@mozilla.com]  -->\n<!-- edited by Noelle Murata [fiveinchpixie@gmail.com]  -->\n<!-- edited by Shane Tomlinson[stomlinson@mozilla.com] -->\n\nThe `unit-test` module makes it easy to find and run unit tests.\n\n"], ["api-json", {"methods": [{"line_number": 12, "name": "pass", "params": [{"datatype": "string", "line_number": 16, "required": false, "name": "message", "description": "Optional passing message."}], "signature": "pass(message)", "type": "method", "description": "Marks a test as passing, with the given optional message.\n"}, {"line_number": 21, "name": "fail", "params": [{"datatype": "string", "line_number": 25, "required": false, "name": "message", "description": "Optional failure message."}], "signature": "fail(message)", "type": "method", "description": "Marks a test as failing, with the given optional message.\n"}, {"line_number": 29, "name": "expectFail", "params": [{"datatype": "function", "line_number": 33, "required": true, "name": "func", "description": "A function that should contain a test that is expected to fail."}], "signature": "expectFail(func)", "type": "method", "description": "*experimental* Expect the test enclosed within `func` to fail. \n"}, {"line_number": 37, "name": "exception", "params": [{"datatype": "exception", "line_number": 42, "required": true, "name": "e", "description": "An exception."}], "signature": "exception(e)", "type": "method", "description": "Marks a test as failing due to the given exception having been thrown.\nThis can be put in a `catch` clause.\n"}, {"line_number": 46, "name": "assert", "params": [{"datatype": "value", "line_number": 50, "required": true, "name": "a", "description": "Value to verify."}, {"datatype": "string", "line_number": 52, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assert(a, message)", "type": "method", "description": "Ensures that `a` has a truthy value.\n"}, {"line_number": 58, "name": "assertEqual", "params": [{"datatype": "value", "line_number": 62, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "value", "line_number": 65, "required": true, "name": "b", "description": "Another value.\n"}, {"datatype": "string", "line_number": 68, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assertEqual(a, b, message)", "type": "method", "description": "Ensures that `a == b` without recursing into `a` or `b`.\n"}, {"line_number": 73, "name": "assertNotEqual", "params": [{"datatype": "value", "line_number": 77, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "value", "line_number": 80, "required": true, "name": "b", "description": "Another value.\n"}, {"datatype": "string", "line_number": 83, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assertNotEqual(a, b, message)", "type": "method", "description": "Ensures that `a != b` without recursing into `a` or `b`.\n"}, {"line_number": 88, "name": "assertStrictEqual", "params": [{"datatype": "value", "line_number": 92, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "value", "line_number": 95, "required": true, "name": "b", "description": "Another value.\n"}, {"datatype": "string", "line_number": 98, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assertStrictEqual(a, b, message)", "type": "method", "description": "Ensures that `a === b` without recursing into `a` or `b`.\n"}, {"line_number": 104, "name": "assertNotStrictEqual", "params": [{"datatype": "value", "line_number": 108, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "value", "line_number": 111, "required": true, "name": "b", "description": "Another value.\n"}, {"datatype": "string", "line_number": 114, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assertNotStrictEqual(a, b, message)", "type": "method", "description": "Ensures that `a !== b` without recursing into `a` or `b`.\n"}, {"line_number": 119, "name": "assertMatches", "params": [{"datatype": "string", "line_number": 125, "required": true, "name": "string", "description": "The string to test.\n"}, {"datatype": "regexp", "line_number": 128, "required": true, "name": "regexp", "description": "The string should match this regular expression.\n"}, {"datatype": "string", "line_number": 131, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "assertMatches(string, regexp, message)", "type": "method", "description": "Ensures that the given string matches the given regular expression.\nIf it does, marks a test as passing, otherwise marks a test as\nfailing.\n"}, {"line_number": 137, "name": "assertRaises", "params": [{"datatype": "function", "line_number": 147, "required": true, "name": "func", "description": "A function that should raise an exception when called.\n"}, {"datatype": "string,regexp", "line_number": 150, "required": true, "name": "predicate", "description": "A string or regular expression to compare to the exception's message.\n"}, {"datatype": "string", "line_number": 153, "required": false, "name": "message", "description": "Depending on the outcome, a test is marked as passing or failing, and\n*message* is logged."}], "signature": "assertRaises(func, predicate, message)", "type": "method", "description": "Calls the function `func` with no arguments, expecting an exception\nto be raised. If nothing is raised, marks the test as failing. If an\nexception is raised, the exception's `message` property is\ncompared with `predicate`: if `predicate` is a string, then a\nsimple equality comparison is done with `message`. Otherwise,\nif `predicate` is a regular expression, `message` is tested\nagainst it.\n"}, {"line_number": 159, "name": "assertFunction", "params": [{"datatype": "value", "line_number": 163, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 166, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertFunction(a, message)", "type": "method", "description": "Ensures that `a` is a function.\n"}, {"line_number": 173, "name": "assertUndefined", "params": [{"datatype": "value", "line_number": 177, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 180, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertUndefined(a, message)", "type": "method", "description": "Ensures that `a` is `undefined`.  `null`, `0`, and `false` will all fail.\n"}, {"line_number": 187, "name": "assertNotUndefined", "params": [{"datatype": "value", "line_number": 191, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 194, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertNotUndefined(a, message)", "type": "method", "description": "Ensures that `a` is not `undefined`.  `null`, `0`, and `false` will all pass.\n"}, {"line_number": 201, "name": "assertNull", "params": [{"datatype": "value", "line_number": 205, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 208, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertNull(a, message)", "type": "method", "description": "Ensures that `a` is `null`.  `undefined`, `0`, and `false` will all fail.\n"}, {"line_number": 215, "name": "assertNotNull", "params": [{"datatype": "value", "line_number": 219, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 222, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertNotNull(a, message)", "type": "method", "description": "Ensures that `a` is not `null`.  `undefined`, `0`, and `false` will all pass.\n"}, {"line_number": 229, "name": "assertObject", "params": [{"datatype": "value", "line_number": 233, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 236, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertObject(a, message)", "type": "method", "description": "Ensures that `a` is an object.  A function, string, or number will fail.\n"}, {"line_number": 243, "name": "assertString", "params": [{"datatype": "value", "line_number": 247, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 250, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertString(a, message)", "type": "method", "description": "Ensures that `a` is a string.\n"}, {"line_number": 257, "name": "assertArray", "params": [{"datatype": "value", "line_number": 261, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 264, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertArray(a, message)", "type": "method", "description": "Ensures that `a` is an array.\n"}, {"line_number": 271, "name": "assertNumber", "params": [{"datatype": "value", "line_number": 275, "required": true, "name": "a", "description": "A value.\n"}, {"datatype": "string", "line_number": 278, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it.\n"}], "signature": "assertNumber(a, message)", "type": "method", "description": "Ensures that `a` is a number.\n"}, {"line_number": 285, "name": "waitUntilDone", "params": [{"datatype": "integer", "line_number": 293, "required": false, "name": "timeout", "description": "If this number of milliseconds elapses and `test.done()` has not yet been\ncalled, the test is marked as failing."}], "signature": "waitUntilDone(timeout)", "type": "method", "description": "Puts the test runner into asynchronous testing mode, waiting up to\n*timeout* milliseconds for `test.done()` to be called.  This\nis intended for use in situations where a test suite schedules a\ncallback, calls `test.waitUntilDone()`, and then calls\n`test.done()` in the callback.\n"}, {"line_number": 299, "signature": "done()", "type": "method", "name": "done", "description": "Marks a test as being complete.  Assumes a previous call to\n`test.waitUntilDone()`."}], "line_number": 7, "type": "class", "name": "test", "description": "Each function which represents a test case is passed a single argument\n`test`, which represents the test runner.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"}], ["markdown", "\n\n\n"], ["api-json", {"line_number": 308, "name": "waitUntil", "params": [{"datatype": "function", "line_number": 312, "required": true, "name": "a", "description": "Function that returns the value to verify."}, {"datatype": "string", "line_number": 314, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "waitUntil(a, message)", "type": "method", "description": "Ensures that `a` returns a truthy value within a reasonable amount of time.\n"}], ["markdown", "\n\n\n"], ["api-json", {"line_number": 320, "name": "waitUntilEqual", "params": [{"datatype": "Function", "line_number": 325, "required": true, "name": "a", "description": "A value, or a function that returns a value.\n"}, {"datatype": "value", "line_number": 328, "required": true, "name": "b", "description": "Another value, or a function that returns value.\n"}, {"datatype": "string", "line_number": 331, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "waitUntilEqual(a, b, message)", "type": "method", "description": "Ensures that `a == b` returned values or values without without recursing\ninto `a` or `b`.\n"}], ["markdown", "\n\n"], ["api-json", {"line_number": 336, "name": "waitUntilNotEqual", "params": [{"datatype": "Function", "line_number": 340, "required": true, "name": "a", "description": "A value, or a function that returns a value.\n"}, {"datatype": "value", "line_number": 343, "required": true, "name": "b", "description": "Another value, or a function that returns another value.\n"}, {"datatype": "string", "line_number": 346, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "waitUntilNotEqual(a, b, message)", "type": "method", "description": "Ensures that `a != b` without recursing into `a` or `b`.\n"}], ["markdown", "\n\n\n"], ["api-json", {"line_number": 352, "name": "waitUntilMatches", "params": [{"datatype": "Function", "line_number": 358, "required": true, "name": "string", "description": "A function that returns the string to test.\n"}, {"datatype": "regexp", "line_number": 361, "required": true, "name": "regexp", "description": "The string should match this regular expression.\n"}, {"datatype": "string", "line_number": 364, "required": false, "name": "message", "description": "The test is marked as passing or failing depending on the result, logging\n*message* with it."}], "signature": "waitUntilMatches(string, regexp, message)", "type": "method", "description": "Ensures that the given string matches the given regular expression.\nIf it does, marks the test as passing, otherwise marks the test as\nfailing.\n"}], ["markdown", "\n\n\n\n"], ["api-json", {"line_number": 371, "name": "findAndRunTests", "params": [{"line_number": 379, "name": "options", "datatype": "object", "required": true, "props": [{"datatype": "string", "line_number": 381, "required": true, "name": "dirs", "description": "A list of absolute paths representing directories to search\nfor tests in.  It's assumed that all of these directories are also\nin the module search path, i.e. any JS files found in them are\nSecurableModules that can be loaded via a call to\n`require()`."}, {"datatype": "function", "line_number": 387, "required": true, "name": "onDone", "description": "A function to call when testing is complete."}], "description": "An object with the following properties:"}], "signature": "findAndRunTests(options)", "type": "function", "description": "The list of directories is searched for SecurableModules that start\nwith the prefix `test-`.  Each module matching this criteria is\nexpected to export functions that are test cases or a suite of test\ncases; each is called with a single argument, which is a Test Runner\nObject.\n"}], ["markdown", "\n"]]