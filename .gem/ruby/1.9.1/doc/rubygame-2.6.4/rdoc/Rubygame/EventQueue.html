<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Rubygame::EventQueue</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/rubygame/queue_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/rubygame/queue.rb">lib/rubygame/queue.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Array</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-_old_each">#_old_each</a></li>
          
          <li><a href="#method-i-each">#each</a></li>
          
          <li><a href="#method-i-enable_new_style_events">#enable_new_style_events</a></li>
          
          <li><a href="#method-i-fetch_sdl_events">#fetch_sdl_events</a></li>
          
          <li><a href="#method-i-peek_each">#peek_each</a></li>
          
          <li><a href="#method-i-post">#post</a></li>
          
          <li><a href="#method-i-push">#push</a></li>
          
          <li><a href="#method-i-wait">#wait</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../CREDITS.html">CREDITS</a></li>
        
          <li class="file"><a href="../LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../NEWS.html">NEWS</a></li>
        
          <li class="file"><a href="../README.html">README</a></li>
        
          <li class="file"><a href="../ROADMAP.html">ROADMAP</a></li>
        
          <li class="file"><a href="../doc/custom_sdl_load_paths_rdoc.html">custom_sdl_load_paths.rdoc</a></li>
        
          <li class="file"><a href="../doc/getting_started_rdoc.html">getting_started.rdoc</a></li>
        
          <li class="file"><a href="../doc/keyboard_symbols_rdoc.html">keyboard_symbols.rdoc</a></li>
        
          <li class="file"><a href="../doc/macosx_install_rdoc.html">macosx_install.rdoc</a></li>
        
          <li class="file"><a href="../doc/managing_framerate_rdoc.html">managing_framerate.rdoc</a></li>
        
          <li class="file"><a href="../doc/surface_palettes_rdoc.html">surface_palettes.rdoc</a></li>
        
          <li class="file"><a href="../doc/windows_install_rdoc.html">windows_install.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../Rubygame.html">Rubygame</a></li>
        
          <li><a href="../Rubygame/ActiveEvent.html">Rubygame::ActiveEvent</a></li>
        
          <li><a href="../Rubygame/Clock.html">Rubygame::Clock</a></li>
        
          <li><a href="../Rubygame/Color.html">Rubygame::Color</a></li>
        
          <li><a href="../Rubygame/Color/ColorBase.html">Rubygame::Color::ColorBase</a></li>
        
          <li><a href="../Rubygame/Color/ColorHSL.html">Rubygame::Color::ColorHSL</a></li>
        
          <li><a href="../Rubygame/Color/ColorHSV.html">Rubygame::Color::ColorHSV</a></li>
        
          <li><a href="../Rubygame/Color/ColorRGB.html">Rubygame::Color::ColorRGB</a></li>
        
          <li><a href="../Rubygame/Color/Palette.html">Rubygame::Color::Palette</a></li>
        
          <li><a href="../Rubygame/Event.html">Rubygame::Event</a></li>
        
          <li><a href="../Rubygame/EventActions.html">Rubygame::EventActions</a></li>
        
          <li><a href="../Rubygame/EventActions/BlockAction.html">Rubygame::EventActions::BlockAction</a></li>
        
          <li><a href="../Rubygame/EventActions/MethodAction.html">Rubygame::EventActions::MethodAction</a></li>
        
          <li><a href="../Rubygame/EventActions/MultiAction.html">Rubygame::EventActions::MultiAction</a></li>
        
          <li><a href="../Rubygame/EventHandler.html">Rubygame::EventHandler</a></li>
        
          <li><a href="../Rubygame/EventHandler/HasEventHandler.html">Rubygame::EventHandler::HasEventHandler</a></li>
        
          <li><a href="../Rubygame/EventHook.html">Rubygame::EventHook</a></li>
        
          <li><a href="../Rubygame/EventQueue.html">Rubygame::EventQueue</a></li>
        
          <li><a href="../Rubygame/EventTriggers.html">Rubygame::EventTriggers</a></li>
        
          <li><a href="../Rubygame/EventTriggers/AndTrigger.html">Rubygame::EventTriggers::AndTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/AttrTrigger.html">Rubygame::EventTriggers::AttrTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/BlockTrigger.html">Rubygame::EventTriggers::BlockTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/InstanceOfTrigger.html">Rubygame::EventTriggers::InstanceOfTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/KeyPressTrigger.html">Rubygame::EventTriggers::KeyPressTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/KeyReleaseTrigger.html">Rubygame::EventTriggers::KeyReleaseTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/KindOfTrigger.html">Rubygame::EventTriggers::KindOfTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/MouseMoveTrigger.html">Rubygame::EventTriggers::MouseMoveTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/MousePressTrigger.html">Rubygame::EventTriggers::MousePressTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/MouseReleaseTrigger.html">Rubygame::EventTriggers::MouseReleaseTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/OrTrigger.html">Rubygame::EventTriggers::OrTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/TickTrigger.html">Rubygame::EventTriggers::TickTrigger</a></li>
        
          <li><a href="../Rubygame/EventTriggers/YesTrigger.html">Rubygame::EventTriggers::YesTrigger</a></li>
        
          <li><a href="../Rubygame/Events.html">Rubygame::Events</a></li>
        
          <li><a href="../Rubygame/Events/ClockTicked.html">Rubygame::Events::ClockTicked</a></li>
        
          <li><a href="../Rubygame/Events/InputFocusGained.html">Rubygame::Events::InputFocusGained</a></li>
        
          <li><a href="../Rubygame/Events/InputFocusLost.html">Rubygame::Events::InputFocusLost</a></li>
        
          <li><a href="../Rubygame/Events/JoystickAxisMoved.html">Rubygame::Events::JoystickAxisMoved</a></li>
        
          <li><a href="../Rubygame/Events/JoystickBallMoved.html">Rubygame::Events::JoystickBallMoved</a></li>
        
          <li><a href="../Rubygame/Events/JoystickButtonEvent.html">Rubygame::Events::JoystickButtonEvent</a></li>
        
          <li><a href="../Rubygame/Events/JoystickButtonPressed.html">Rubygame::Events::JoystickButtonPressed</a></li>
        
          <li><a href="../Rubygame/Events/JoystickButtonReleased.html">Rubygame::Events::JoystickButtonReleased</a></li>
        
          <li><a href="../Rubygame/Events/JoystickHatMoved.html">Rubygame::Events::JoystickHatMoved</a></li>
        
          <li><a href="../Rubygame/Events/KeyPressed.html">Rubygame::Events::KeyPressed</a></li>
        
          <li><a href="../Rubygame/Events/KeyReleased.html">Rubygame::Events::KeyReleased</a></li>
        
          <li><a href="../Rubygame/Events/KeyboardEvent.html">Rubygame::Events::KeyboardEvent</a></li>
        
          <li><a href="../Rubygame/Events/MouseButtonEvent.html">Rubygame::Events::MouseButtonEvent</a></li>
        
          <li><a href="../Rubygame/Events/MouseFocusGained.html">Rubygame::Events::MouseFocusGained</a></li>
        
          <li><a href="../Rubygame/Events/MouseFocusLost.html">Rubygame::Events::MouseFocusLost</a></li>
        
          <li><a href="../Rubygame/Events/MouseMoved.html">Rubygame::Events::MouseMoved</a></li>
        
          <li><a href="../Rubygame/Events/MousePressed.html">Rubygame::Events::MousePressed</a></li>
        
          <li><a href="../Rubygame/Events/MouseReleased.html">Rubygame::Events::MouseReleased</a></li>
        
          <li><a href="../Rubygame/Events/QuitRequested.html">Rubygame::Events::QuitRequested</a></li>
        
          <li><a href="../Rubygame/Events/WindowExposed.html">Rubygame::Events::WindowExposed</a></li>
        
          <li><a href="../Rubygame/Events/WindowMinimized.html">Rubygame::Events::WindowMinimized</a></li>
        
          <li><a href="../Rubygame/Events/WindowResized.html">Rubygame::Events::WindowResized</a></li>
        
          <li><a href="../Rubygame/Events/WindowUnminimized.html">Rubygame::Events::WindowUnminimized</a></li>
        
          <li><a href="../Rubygame/ExposeEvent.html">Rubygame::ExposeEvent</a></li>
        
          <li><a href="../Rubygame/Ftor.html">Rubygame::Ftor</a></li>
        
          <li><a href="../Rubygame/GL.html">Rubygame::GL</a></li>
        
          <li><a href="../Rubygame/Hotspot.html">Rubygame::Hotspot</a></li>
        
          <li><a href="../Rubygame/JoyAxisEvent.html">Rubygame::JoyAxisEvent</a></li>
        
          <li><a href="../Rubygame/JoyBallEvent.html">Rubygame::JoyBallEvent</a></li>
        
          <li><a href="../Rubygame/JoyDownEvent.html">Rubygame::JoyDownEvent</a></li>
        
          <li><a href="../Rubygame/JoyHatEvent.html">Rubygame::JoyHatEvent</a></li>
        
          <li><a href="../Rubygame/JoyUpEvent.html">Rubygame::JoyUpEvent</a></li>
        
          <li><a href="../Rubygame/Joystick.html">Rubygame::Joystick</a></li>
        
          <li><a href="../Rubygame/Key.html">Rubygame::Key</a></li>
        
          <li><a href="../Rubygame/KeyDownEvent.html">Rubygame::KeyDownEvent</a></li>
        
          <li><a href="../Rubygame/KeyUpEvent.html">Rubygame::KeyUpEvent</a></li>
        
          <li><a href="../Rubygame/MailQueue.html">Rubygame::MailQueue</a></li>
        
          <li><a href="../Rubygame/MediaBag.html">Rubygame::MediaBag</a></li>
        
          <li><a href="../Rubygame/Mixer.html">Rubygame::Mixer</a></li>
        
          <li><a href="../Rubygame/Mixer/Music.html">Rubygame::Mixer::Music</a></li>
        
          <li><a href="../Rubygame/Mixer/Sample.html">Rubygame::Mixer::Sample</a></li>
        
          <li><a href="../Rubygame/Mouse.html">Rubygame::Mouse</a></li>
        
          <li><a href="../Rubygame/MouseDownEvent.html">Rubygame::MouseDownEvent</a></li>
        
          <li><a href="../Rubygame/MouseMotionEvent.html">Rubygame::MouseMotionEvent</a></li>
        
          <li><a href="../Rubygame/MouseUpEvent.html">Rubygame::MouseUpEvent</a></li>
        
          <li><a href="../Rubygame/Music.html">Rubygame::Music</a></li>
        
          <li><a href="../Rubygame/NamedResource.html">Rubygame::NamedResource</a></li>
        
          <li><a href="../Rubygame/NamedResource/NamedResourceClassMethods.html">Rubygame::NamedResource::NamedResourceClassMethods</a></li>
        
          <li><a href="../Rubygame/QuitEvent.html">Rubygame::QuitEvent</a></li>
        
          <li><a href="../Rubygame/Rect.html">Rubygame::Rect</a></li>
        
          <li><a href="../Rubygame/ResizeEvent.html">Rubygame::ResizeEvent</a></li>
        
          <li><a href="../Rubygame/SDLError.html">Rubygame::SDLError</a></li>
        
          <li><a href="../Rubygame/SFont.html">Rubygame::SFont</a></li>
        
          <li><a href="../Rubygame/Screen.html">Rubygame::Screen</a></li>
        
          <li><a href="../Rubygame/Sound.html">Rubygame::Sound</a></li>
        
          <li><a href="../Rubygame/Sprites.html">Rubygame::Sprites</a></li>
        
          <li><a href="../Rubygame/Sprites/DepthSortGroup.html">Rubygame::Sprites::DepthSortGroup</a></li>
        
          <li><a href="../Rubygame/Sprites/Group.html">Rubygame::Sprites::Group</a></li>
        
          <li><a href="../Rubygame/Sprites/LimitGroup.html">Rubygame::Sprites::LimitGroup</a></li>
        
          <li><a href="../Rubygame/Sprites/Sprite.html">Rubygame::Sprites::Sprite</a></li>
        
          <li><a href="../Rubygame/Sprites/UpdateGroup.html">Rubygame::Sprites::UpdateGroup</a></li>
        
          <li><a href="../Rubygame/Surface.html">Rubygame::Surface</a></li>
        
          <li><a href="../Rubygame/TTF.html">Rubygame::TTF</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Rubygame::EventQueue</h1>

    <div id="description" class="description">
      
<p><a href="EventQueue.html">EventQueue</a> provides a simple way to manage
SDL's events, allowing the application to detect keyboard presses, mouse
movements and clicks, joystick movement, etc. You can also post custom
events to the <a href="EventQueue.html">EventQueue</a> to help manage the
game state.</p>

<p>For basic usage, create a new <a href="EventQueue.html">EventQueue</a> with
autofetch, then call the <a href="EventQueue.html#method-i-each">each</a>
method once per game loop, passing a block which handles events. See the
sample applications for examples of this.</p>

<p>In <a href="../Rubygame.html">Rubygame</a> 2.4 and later, you can call <a
href="EventQueue.html#method-i-enable_new_style_events">enable_new_style_events</a>
to make <a href="EventQueue.html">EventQueue</a> fetch the new event
classes (in the <a href="Events.html">Rubygame::Events</a> module).
Otherwise, the old classes will be used, for backwards compatibility.</p>

<p>It is **strongly recommended** that you use the new event classes. The old
classes are deprecated as of <a href="../Rubygame.html">Rubygame</a> 2.4,
and will be removed entirely in <a href="../Rubygame.html">Rubygame</a>
3.0.</p>

<p>If you wish to ignore all events of a certain class, append those classes
the instance variable @ignore (accessors are provided). You can ignore as
many classes of events as you want, but make sure you don’t ignore ALL
event classes, or the user won’t be able to control the game!</p>

<p>If the program has to pause and wait for an event (for example, if the
player must press a button to begin playing), you might find the <a
href="EventQueue.html#method-i-wait">wait</a> method to be convenient.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="autofetch-attribute-method" class="method-detail">
          <a name="autofetch"></a>
          
          <a name="autofetch="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">autofetch</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Whether to fetch SDL events automatically when <a
href="EventQueue.html#method-i-each">each</a> and <a
href="EventQueue.html#method-i-wait">wait</a> are used. Enabled by default.</p>
          
          </div>
        </div>
        
        <div id="ignore-attribute-method" class="method-detail">
          <a name="ignore"></a>
          
          <a name="ignore="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">ignore</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Array of classes to be ignored by <a
href="EventQueue.html#method-i-push">push</a>.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a new <a href="EventQueue.html">EventQueue</a>.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>()
  <span class="ruby-ivar">@autofetch</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@ignore</span> = []
  <span class="ruby-ivar">@new_style_events</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="_old_each-method" class="method-detail method-alias">
          <a name="method-i-_old_each"></a>

          
          <div class="method-heading">
            <span class="method-name">_old_each</span><span
              class="method-args">( &block )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="EventQueue.html#method-i-each">each</a>
          </div>
          
        </div><!-- _old_each-method -->

      
        <div id="each-method" class="method-detail ">
          <a name="method-i-each"></a>

          
          <div class="method-heading">
            <span class="method-name">each</span><span
              class="method-args">( &block )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Iterate through all events in the <a href="EventQueue.html">EventQueue</a>,
yielding them one at a time to the given block. The <a
href="EventQueue.html">EventQueue</a> is flushed after all events have been
yielded. You can use <a
href="EventQueue.html#method-i-peek_each">peek_each</a> if you want to keep
the events.</p>

<p>If the internal variable @autofetch is true, this method will call <a
href="EventQueue.html#method-i-fetch_sdl_events">fetch_sdl_events</a> once
before iterating.</p>
            

            
            <div class="method-source-code" id="each-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>( &amp;<span class="ruby-identifier">block</span> )
  <span class="ruby-identifier">fetch_sdl_events</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@autofetch</span>
  <span class="ruby-identifier">_old_each</span>( &amp;<span class="ruby-identifier">block</span> )
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- each-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="EventQueue.html#method-i-_old_each">_old_each</a>
          </div>
          

          
        </div><!-- each-method -->

      
        <div id="enable_new_style_events-method" class="method-detail ">
          <a name="method-i-enable_new_style_events"></a>

          
          <div class="method-heading">
            <span class="method-name">enable_new_style_events</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Enable new-style events. These are the event classes in the  <a
href="Events.html">Rubygame::Events</a> module, which were added in <a
href="../Rubygame.html">Rubygame</a> 2.4.</p>

<p>If you call this method, the new event classes will be used. Otherwise, the
old classes will be used, for backwards compatibility.</p>

<p>It is **strongly recommended** that you use the new event classes. The old
classes are deprecated as of <a href="../Rubygame.html">Rubygame</a> 2.4,
and will be removed entirely in <a href="../Rubygame.html">Rubygame</a>
3.0.</p>
            

            
            <div class="method-source-code" id="enable_new_style_events-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enable_new_style_events</span>
  <span class="ruby-ivar">@new_style_events</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- enable_new_style_events-source -->
            
          </div>

          

          
        </div><!-- enable_new_style_events-method -->

      
        <div id="fetch_sdl_events-method" class="method-detail ">
          <a name="method-i-fetch_sdl_events"></a>

          
          <div class="method-heading">
            <span class="method-name">fetch_sdl_events</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Posts pending SDL hardware events to the <a
href="EventQueue.html">EventQueue</a>. Only one <a
href="EventQueue.html">EventQueue</a> should call this method per
application, and only if you are not using Rubygame#fetch_sdl_events to
manually process events! Otherwise, some events may be removed from SDL’s
event stack before they can be properly processed!</p>
            

            
            <div class="method-source-code" id="fetch_sdl_events-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 127</span>
          <span class="ruby-keyword">def</span> <span class="ruby-identifier">fetch_sdl_events</span>
<span class="ruby-keyword">if</span> <span class="ruby-ivar">@new_style_events</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">push</span>( <span class="ruby-constant">Rubygame</span><span class="ruby-operator">::</span><span class="ruby-constant">Events</span>.<span class="ruby-identifier">fetch_sdl_events</span>() )
<span class="ruby-keyword">else</span>
  <span class="ruby-constant">Rubygame</span>.<span class="ruby-identifier">deprecated</span>(<span class="ruby-string">&quot;Rubygame::EventQueue with old event classes&quot;</span>,
                      <span class="ruby-string">&quot;3.0&quot;</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">push</span>( <span class="ruby-constant">Rubygame</span>.<span class="ruby-identifier">fetch_sdl_events</span>() )
<span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span></pre>
            </div><!-- fetch_sdl_events-source -->
            
          </div>

          

          
        </div><!-- fetch_sdl_events-method -->

      
        <div id="peek_each-method" class="method-detail ">
          <a name="method-i-peek_each"></a>

          
          <div class="method-heading">
            <span class="method-name">peek_each</span><span
              class="method-args">( &block )</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Like <a href="EventQueue.html#method-i-each">each</a>, but doesn’t remove
the events from the queue after iterating.</p>
            

            
            <div class="method-source-code" id="peek_each-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">peek_each</span>( &amp;<span class="ruby-identifier">block</span> )
  <span class="ruby-identifier">fetch_sdl_events</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@autofetch</span>
  <span class="ruby-identifier">_old_each</span>( &amp;<span class="ruby-identifier">block</span> )
<span class="ruby-keyword">end</span></pre>
            </div><!-- peek_each-source -->
            
          </div>

          

          
        </div><!-- peek_each-method -->

      
        <div id="post-method" class="method-detail method-alias">
          <a name="method-i-post"></a>

          
          <div class="method-heading">
            <span class="method-name">post</span><span
              class="method-args">(*events)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="EventQueue.html#method-i-push">push</a>
          </div>
          
        </div><!-- post-method -->

      
        <div id="push-method" class="method-detail ">
          <a name="method-i-push"></a>

          
          <div class="method-heading">
            <span class="method-name">push</span><span
              class="method-args">(*events)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Append events to the <a href="EventQueue.html">EventQueue</a>. Silently
ignores events whose class is in @ignore.</p>
            

            
            <div class="method-source-code" id="push-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">push</span>(*<span class="ruby-identifier">events</span>)
  <span class="ruby-identifier">events</span> = <span class="ruby-identifier">events</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@ignore</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">class</span>)}
  <span class="ruby-identifier">events</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">super</span>( <span class="ruby-identifier">e</span> )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- push-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="EventQueue.html#method-i-post">post</a>
          </div>
          

          
        </div><!-- push-method -->

      
        <div id="wait-method" class="method-detail ">
          <a name="method-i-wait"></a>

          
          <div class="method-heading">
            <span class="method-name">wait</span><span
              class="method-args">(delay=10, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Wait for an event to be posted, then return that event. If there is already
an event in the queue, this method will immediately return that event. <a
href="Events.html">Events</a> that are ignored will not trigger the return.</p>

<p>This method takes this argument:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>time</p></td>
<td>
<p>how long (in milliseconds) to delay between each check for new events.
Defaults to 10 ms.</p>
</td></tr></table>

<p>If a block is given to this method, it will be run after each unsuccessful
check for new events. This method will pass to the block the number of
times it has checked for new events.</p>

<p>If the internal variable @autofetch is true, this method will call <a
href="EventQueue.html#method-i-fetch_sdl_events">fetch_sdl_events</a>
before every check for new events.</p>

<p>Please be cautious when using this method, as it is rather easy to cause an
infinite loop. Two ways an infinite loop might occur are:</p>
<ol><li>
<p>Waiting for an SDL event when @autofetch is disabled. (This is not a
problem if the block will post an event.)</p>
</li><li>
<p>Waiting for any event when all possible event types are ignored.</p>
</li></ol>
            

            
            <div class="method-source-code" id="wait-source">
<pre>
<span class="ruby-comment"># File lib/rubygame/queue.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wait</span>(<span class="ruby-identifier">delay</span>=<span class="ruby-value">10</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">iterations</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">fetch_sdl_events</span>() <span class="ruby-keyword">if</span> <span class="ruby-ivar">@autofetch</span>
      <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">s</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">shift</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">iterations</span>
      <span class="ruby-identifier">iterations</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-constant">Rubygame</span><span class="ruby-operator">::</span><span class="ruby-constant">Clock</span>.<span class="ruby-identifier">delay</span>(<span class="ruby-identifier">delay</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span> 
      <span class="ruby-identifier">fetch_sdl_events</span>() <span class="ruby-keyword">if</span> <span class="ruby-ivar">@autofetch</span>
      <span class="ruby-identifier">s</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">iterations</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-constant">Rubygame</span><span class="ruby-operator">::</span><span class="ruby-constant">Clock</span>.<span class="ruby-identifier">delay</span>(<span class="ruby-identifier">delay</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- wait-source -->
            
          </div>

          

          
        </div><!-- wait-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

